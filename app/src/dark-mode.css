/* Dark mode overrides */
.dark {
  background-color: #111827;
  color: #f3f4f6;
}

.dark .text-stone-800 {
  color: #f3f4f6 !important;
}

.dark .text-stone-600 {
  color: #9ca3af !important;
}

.dark .bg-white, html.dark-mode .bg-white {
  background-color: #1f2937 !important;
}

.dark .bg-stone-100 {
  background-color: #111827 !important;
}

.dark .bg-stone-200 {
  background-color: #1f2937 !important;
}

.dark .bg-stone-300 {
  background-color: #374151 !important;
}

.dark .border-stone-300 {
  border-color: #4b5563 !important;
}

.dark .border-amber-200 {
  border-color: #92400e !important;
}

/* Modal styles for dark mode - with extremely strong selectors and high specificity */

/* Force all modals to have dark backgrounds in dark mode, regardless of other styling */
html.dark-mode [role="dialog"] [role="document"],
html.dark-mode .fixed.inset-0 [role="document"],
html.dark-mode body .fixed.inset-0 div[role="document"],
html.dark-mode body .fixed div.rounded-xl[role="document"],
.dark [role="dialog"] [role="document"],
.dark .fixed.inset-0 [role="document"], 
.dark body .fixed.inset-0 div[role="document"],
.dark body .fixed div.rounded-xl[role="document"] {
  background-color: #1f2937 !important;
  color: #f3f4f6 !important;
  border-color: #f59e0b !important;
  opacity: 1 !important;
}

/* Create a universal selector for modal content in dark mode - max specificity */
.dark .bg-white, 
.dark [class*="bg-white"],
.dark .bg-stone-100,
.dark .bg-stone-50,
html.dark-mode .bg-white, 
html.dark-mode [class*="bg-white"],
html.dark-mode .bg-stone-100,
html.dark-mode .bg-stone-50 {
  background-color: #1f2937 !important;
}

/* Force any element with bg-white class or containing bg-white to be dark */
.dark div[class*="bg-white"],
.dark button[class*="bg-white"],
.dark span[class*="bg-white"],
.dark section[class*="bg-white"],
html.dark-mode div[class*="bg-white"],
html.dark-mode button[class*="bg-white"],
html.dark-mode span[class*="bg-white"],
html.dark-mode section[class*="bg-white"] {
  background-color: #1f2937 !important;
}

/* Target .rounded-xl elements which is used by modals */
html.dark-mode .rounded-xl,
.dark .rounded-xl {
  background-color: #1f2937 !important;
}

/* Ensure headings have high contrast in dark mode */
.dark h1, .dark h2, .dark h3, .dark h4, .dark h5, .dark h6,
.dark .font-bold, 
.dark [class*="text-stone-800"],
.dark [class*="text-black"],
html.dark-mode h1, html.dark-mode h2, html.dark-mode h3, 
html.dark-mode h4, html.dark-mode h5, html.dark-mode h6,
html.dark-mode .font-bold,
html.dark-mode [class*="text-stone-800"],
html.dark-mode [class*="text-black"] {
  color: #f3f4f6 !important;
}

/* Ensure body text has good contrast */
.dark p, 
.dark div, 
.dark [class*="text-stone-600"], 
.dark [class*="text-stone-700"],
html.dark-mode p, 
html.dark-mode div,
html.dark-mode [class*="text-stone-600"],
html.dark-mode [class*="text-stone-700"] {
  color: #d1d5db !important;
}

/* Exclude specific spans from the general styling */
.dark span:not(.logo-highlight), 
html.dark-mode span:not(.logo-highlight) {
  color: #d1d5db !important;
}

/* Target specific selectors for modal elements */
.dark .modal-heading,
.dark-mode .modal-heading {
  color: #f3f4f6 !important;
}

.dark .modal-text,
.dark-mode .modal-text {
  color: #d1d5db !important;
}

.dark .modal-subtext,
.dark-mode .modal-subtext {
  color: #9ca3af !important;
}

.dark .modal-input,
.dark-mode .modal-input {
  background-color: #374151 !important;
  border-color: #4b5563 !important;
  color: #f3f4f6 !important;
}

/* Target the specific modal content containers directly */
.dark-mode [role="document"] div, 
.dark [role="document"] div {
  color: #d1d5db !important;
}

/* Target modals by their style attributes - but exclude share menu */
.dark [style*="box-shadow"]:not(.share-menu-dropdown), 
html.dark-mode [style*="box-shadow"]:not(.share-menu-dropdown) {
  background-color: #1f2937 !important;
}

/* Ensure share menu has proper styling */
.dark .share-menu-dropdown,
html.dark-mode .share-menu-dropdown {
  background-color: rgba(0, 0, 0, 0.9) !important;
}

.dark .sharing-option,
html.dark-mode .sharing-option {
  background-color: #1f2937 !important;
}

.dark .sharing-option:hover,
html.dark-mode .sharing-option:hover {
  background-color: #374151 !important;
}

/* Preserve logo highlight color in dark mode */
.dark .logo-highlight,
html.dark-mode .logo-highlight {
  color: #f59e0b !important;
}

/* For HTML dark mode */
.dark-mode body {
  background-color: #111827;
  color: #f3f4f6;
}